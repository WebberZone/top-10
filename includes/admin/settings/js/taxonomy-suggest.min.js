jQuery(document).ready((function(t){t.fn.ataTagsSuggest=function(e){var a,o,n=t(this),u=(e=e||{}).taxonomy||n.attr("data-wp-taxonomy")||"category",c=e.tag_search||n.attr("data-wp-action")||"ata_tag_search";function i(t){return t.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/)}function r(t){return i(t).pop()}delete e.taxonomy,delete e.tag_search,e=t.extend({minLength:2,position:{my:"left top+2",at:"left bottom",collision:"none"},source:function(e,n){var i;o!==e.term?(i=r(e.term),o!==e.term?(t.ajax({type:"POST",dataType:"json",url:ajaxurl,data:{action:c,tax:u,q:i}}).done((function(t){a=t,n(t)})),o=e.term):n(a)):n(a)},search:function(){if(r(this.value).length<2)return!1},focus:function(t,e){t.preventDefault()},select:function(t,e){var a=i(this.value),o=e.item.value;return-1!==o.indexOf(",")&&(o='"'+o+'"'),a.pop(),a.push(o),a.push(""),this.value=a.join(", "),!1}},e),n.on("keydown",(function(e){e.keyCode===t.ui.keyCode.TAB&&t(this).autocomplete("instance").menu.active&&e.preventDefault()})).autocomplete(e)},t(".category_autocomplete").each((function(e,a){t(a).ataTagsSuggest()})),t(".widget-liquid-right, #customize-controls").on("click",".category_autocomplete",(function(){t(".category_autocomplete").ataTagsSuggest()}))}));